---
allowed-tools: Bash(git add:*), Bash(git status:*), Bash(git commit:*), Bash(git diff:*), Skill
description: gitコミットを作成する
---

## コンテキスト

- 現在のgitステータス: !`git status`
- 現在のgit diff（ステージ済みおよび未ステージの変更）: !`git diff HEAD`
- 現在のブランチ: !`git branch --show-current`
- 最近のコミット: !`git log --oneline -10`

## タスク

### ステップ0: プランモードの終了（アクティブな場合）

現在プランモードにいる場合は、ExitPlanModeツールを使用して今すぐ終了してください。コミット作成の続行についてユーザーの承認を得ています。

### ステップ1: 変更を分割してコミットを作成

`git-commit-splitter`エージェントを使用して以下を実行します:

1. すべての変更を分析する（フォーマッタの変更を含む）
2. 変更を論理的でアトミックなコミットに分割する
3. 各論理グループに対して、明確で説明的なメッセージを持つ別々のコミットを作成する

### ステップ2: セッションのクリア

コミット完了後、常に`/clear`を実行してセッションをクリアしてください。

これにより、クリアせずに作業を続行した際の意図しないプッシュやコメントを防ぎます。

## 制約

- コミットにClaudeの共著フッターを追加しないこと
- 各コミットはアトミックであり、独立してリバートできるものであること
- **すべてのコミットメッセージは英語で書くこと**

---

## 参照

### エージェント
- [`git-commit-splitter`](../agents/git-commit-splitter.md) - 変更を論理的なコミットに分割
