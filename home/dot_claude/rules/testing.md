# テスト要件

## 基本要件

**最低テストカバレッジ: 80%**

すべてのコード変更には適切なテストを含める必要があります:

1. **ユニットテスト** - 個々の関数、ユーティリティ、モジュール
2. **インテグレーションテスト** - APIエンドポイント、データベース操作、サービス間連携

包括的なカバレッジのために、両方のテストタイプを一緒に実装する必要があります。

## TDDワークフロー

テスト駆動開発サイクルに従ってください:

1. **RED** - まずテストを書く（失敗するはず）
2. **GREEN** - テストをパスするための最小限の実装を書く
3. **REFACTOR** - テストをグリーンに保ちながらコードを改善する
4. カバレッジが80%以上の閾値を満たしていることを確認する

## 失敗したテストのトラブルシューティング

テストが失敗した場合:

- テストの独立性を確認する（テストは互いに依存してはいけない）
- モックの設定を検証する
- テストではなく実装を修正する（テストにバグがある場合を除く）
- エッジケースとエラーシナリオを確認する

---

## 参照

### スキル
- [`/tdd-workflow`](../skills/tdd-workflow/SKILL.md) - 詳細なTDDパターン、pytestの使用例、カバレッジ設定
